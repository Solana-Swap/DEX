const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bridge.lzhc31h3.js","./index.h3lt6w5e.js","./vue.ij1rt9yd.js","./lodash-es.bp0zmem9.js","./axios.i01mok01.js","./dayjs.pb8a0t5b.js","../css/vue.e5cp8j36.css","./swiper.jxnsts7f.js","../css/swiper.mx87w2w8.css","./vuex.i01hmc51.js","./vue-router.ii2ni9cp.js","./svg-icons.nc57d0by.js","../css/index.cayouk3h.css","../css/Bridge.haapux6m.css","./index-CCzOyXR_.gj35ucpx.js","./index-BIjOacK0.wf9i9toq.js","./index-B5OSVLa1.j5fwkbkr.js"])))=>i.map(i=>d[i]);
import{a as h}from"./index.h3lt6w5e.js";import{E as G,a as _,b as N,c as F,W as O,P as S,_ as W,A as k,d as R}from"./Bridge.lzhc31h3.js";import"./vue.ij1rt9yd.js";import"./lodash-es.bp0zmem9.js";import"./axios.i01mok01.js";import"./dayjs.pb8a0t5b.js";import"./swiper.jxnsts7f.js";import"./vuex.i01hmc51.js";import"./vue-router.ii2ni9cp.js";import"./svg-icons.nc57d0by.js";var B=Object.defineProperty,T=e=>{throw TypeError(e)},I=(e,t,i)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,E=(e,t,i)=>I(e,typeof t!="symbol"?t+"":t,i),A=(e,t,i)=>t.has(e)||T("Cannot "+i),l=(e,t,i)=>(A(e,t,"read from private field"),i?i.call(e):t.get(e)),y=(e,t,i)=>t.has(e)?T("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),o=(e,t,i,r)=>(A(e,t,"write to private field"),t.set(e,i),i),M=(e,t,i,r)=>({set _(s){o(e,t,s)},get _(){return l(e,t,r)}}),n,c;const V=class C extends k{constructor(t){super(t.provider),E(this,"signer"),y(this,n),y(this,c),R(this,{signer:t}),o(this,n,null),o(this,c,0)}async getAddress(){return this.signer.getAddress()}connect(t){return new C(this.signer.connect(t))}async getNonce(t){if(t==="pending"){l(this,n)==null&&o(this,n,super.getNonce("pending"));const i=l(this,c);return await l(this,n)+i}return super.getNonce(t)}increment(){M(this,c)._++}reset(){o(this,c,0),o(this,n,null)}async sendTransaction(t){const i=this.getNonce("pending");return this.increment(),t=await this.signer.populateTransaction(t),t.nonce=await i,await this.signer.sendTransaction(t)}signTransaction(t){return this.signer.signTransaction(t)}signMessage(t){return this.signer.signMessage(t)}signTypedData(t,i,r){return this.signer.signTypedData(t,i,r)}};n=new WeakMap,c=new WeakMap;let $=V;async function j(e,t,i){const r=typeof t=="string"?new O(t,e):t,s=(i==null?void 0:i.chain)??(await _.chainFromRpc(e))[1],a=new $(r);if(a.provider===null)try{a.connect(e)}catch(g){console.error("Cannot connect to network for signer",g)}return new z(s,await r.getAddress(),a,i)}class z extends S{constructor(t,i,r,s){super(t,i,r),E(this,"opts"),this.opts=s}chain(){return this._chain}address(){return this._address}async sign(t){var i,r,s,a,g,f;const w=this.chain(),P=[];let d=500000n,m=100000000000n,u=1500000000n,v=100000000n;if(((i=this.opts)==null?void 0:i.overrides)===void 0&&w!=="Celo"){const p=await this._signer.provider.getFeeData();m=p.gasPrice??m,u=p.maxFeePerGas??u,v=p.maxPriorityFeePerGas??v}((r=this.opts)==null?void 0:r.maxGasLimit)!==void 0&&(d=d>((s=this.opts)==null?void 0:s.maxGasLimit)?(a=this.opts)==null?void 0:a.maxGasLimit:d);const x=w==="Oasis"?{gasLimit:d,gasPrice:m,type:0}:{gasLimit:d,maxFeePerGas:u,maxPriorityFeePerGas:v};for(const p of t){const{transaction:L,description:b}=p;(g=this.opts)!=null&&g.debug&&console.log(`Signing: ${b} for ${this.address()}`);const D={...L,...x,from:this.address(),nonce:await this._signer.getNonce(),...(f=this.opts)==null?void 0:f.overrides};P.push(await this._signer.signTransaction(D))}return P}}const et={Address:G,Platform:_,getSigner:j,protocols:{WormholeCore:()=>h(()=>import("./Bridge.lzhc31h3.js").then(e=>e.dN),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url).then(e=>e.e2),TokenBridge:()=>h(()=>import("./index-CCzOyXR_.gj35ucpx.js"),__vite__mapDeps([14,0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url),PorticoBridge:()=>h(()=>import("./index-BIjOacK0.wf9i9toq.js"),__vite__mapDeps([15,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url),CircleBridge:()=>h(()=>import("./index-B5OSVLa1.j5fwkbkr.js"),__vite__mapDeps([16,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)},getChain:(e,t,i)=>new N(t,new _(e,F(e,W,{[t]:i})))};export{et as default};
